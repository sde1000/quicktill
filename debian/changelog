quicktill (24.1) stable; urgency=low

  * New release 24.1

  * Don't store a detached User instance in user.dbuser

 -- Stephen Early <steve@assorted.org.uk>  Wed, 05 Mar 2025 16:47:13 +0000

quicktill (24.0) stable; urgency=low

  * New release 24.0

  * Enable passwords feature by default, with one hour timeout

  * Allow passwords to be removed from web interface

  * Add plugin mechanism and unit tests for password hashers

  * Add user ID and presence of password to tillweb user page

  * Add release notes and update year

  * Add a "log out" option, and show whether password is set in user info

  * More password-related fixes

  * Log the user in as soon as they have entered their password

  * ui: finish redrawing field before calling the "set" hook

  * Don't try to log password changes when there is no current user

  * Fix the Haymakers example config

  * Fixes to the new user passwords feature

  * Add user passwords (#301) (#308)

 -- Stephen Early <steve@assorted.org.uk>  Sun, 02 Mar 2025 21:52:29 +0000

quicktill (23.15) stable; urgency=low

  * New release 23.15

  * Shortcut when Cash/Enter is pressed on an open zero-balance transaction

  * Break startup code into "common" and "application-specific" parts

  * Move the "totals" subcommand from till.py to dbutils.py

  * Restrict the code path that can remove completed payments

  * Deal with another warning from sqlalchemy-2.0

  * Update checkdb subcommand to work with sqlalchemy-2.0

  * Remove unnecessary explicit commits to the database

  * Update required versions of sqlalchemy and psycopg2

  * Set SQLALCHEMY_WARN_20=1 when running CI tests

  * Deal with creating a duplicate stock type through the web interface

  * Format chained methods more consistently in model

  * Stop using deprecated Unit.item_name_plural

  * Use engine and session in future=True mode in till client

  * sqlalchemy-2.0: don't bind engine to the metadata

  * Remove use of negative slice index in ORM query

  * sqlalchemy-2.0 updates to models test suite

  * Update for sqlalchemy-2.0

  * Use an explicit transaction when registering listeners

  * declarative_base and declared_attr have moved

 -- Stephen Early <steve@assorted.org.uk>  Wed, 12 Feb 2025 14:32:59 +0000

quicktill (23.14) stable; urgency=low

  * New release 23.14

  * Add log entries when showing the "Use Stock" negative stock level warning

 -- Stephen Early <steve@assorted.org.uk>  Tue, 26 Nov 2024 19:02:59 +0000

quicktill (23.13) stable; urgency=low

  * New release 23.13

  * Revert temporary fix for Square API problem

 -- Stephen Early <steve@assorted.org.uk>  Sat, 16 Nov 2024 09:22:07 +0000

quicktill (23.12) stable; urgency=low

  * New release 23.12

  * Another attempt at fixing the Square issue

 -- Stephen Early <steve@assorted.org.uk>  Mon, 11 Nov 2024 22:41:02 +0000

quicktill (23.11) stable; urgency=low

  * New release 23.11

  * Temporary, untested fix for Square API problem

 -- Stephen Early <steve@assorted.org.uk>  Mon, 11 Nov 2024 22:20:10 +0000

quicktill (23.10) stable; urgency=low

  * New release 23.10

  * Add "refund_guard" configuration option to Card payment driver

  * Improve searching for stock types by name in the web interface

 -- Stephen Early <steve@assorted.org.uk>  Sat, 31 Aug 2024 11:56:44 +0100

quicktill (23.9) stable; urgency=low

  * New release 23.9

  * Update CI workflow

  * Remove most uses of detached instances in stocklines module

 -- Stephen Early <steve@assorted.org.uk>  Wed, 10 Jul 2024 18:11:00 +0100

quicktill (23.8) stable; urgency=low

  * New release 23.8

  * Don't lock the register if a transaction closes within 3 seconds

  * Enable stock line type to be changed through web interface

  * Use modal popups for "change stock line details" forms

  * Fix select2 widget so it works inside a Bootstrap modal

  * Format stock quantity of zero using plural form of unit name

  * Whitespace fixes

  * Allow stock items in scope for a stocktake to have their labels reprinted

  * Anonymised data from EMF 2024

  * Correct spelling mistakes

 -- Stephen Early <steve@assorted.org.uk>  Wed, 26 Jun 2024 15:58:59 +0100

quicktill (23.7) stable; urgency=low

  * New release 23.7

  * Speculative fix for prompt being truncated on stockterminal display

  * Permit more characters in URLs for locations and groups

 -- Stephen Early <steve@assorted.org.uk>  Sun, 19 May 2024 11:05:09 +0100

quicktill (23.6) stable; urgency=low

  * New release 23.6

  * Experiment: only apply baseline-adjust to fixed-width text

 -- Stephen Early <steve@assorted.org.uk>  Wed, 15 May 2024 17:21:35 +0100

quicktill (23.5) stable; urgency=low

  * New release 23.5

  * Support images on PDF receipts

  * Remove imagesize dependency, use Pillow to load images

  * Receipt logos: add support for black-and-white binary netpbm images. (#282)

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 May 2024 11:49:05 +0100

quicktill (23.4) stable; urgency=low

  * New release 23.4

  * Add adjustment for text baseline in UI

  * Debian package: conflict with quicktill21+22 as well as replace

 -- Stephen Early <steve@assorted.org.uk>  Wed, 08 May 2024 18:47:56 +0100

quicktill (23.3) stable; urgency=low

  * New release 23.3

  * Sort Square terminals by pairing time

  * Prevent crash when stocktype has a negative sale price

  * Enable negative price PLUs to sell negative number of items

 -- Stephen Early <steve@assorted.org.uk>  Fri, 19 Apr 2024 16:17:25 +0100

quicktill (23.2) stable; urgency=low

  * New release 23.2

  * Add a command line option to tweak screen line height

  * Allow stock line note to be longer

 -- Stephen Early <steve@assorted.org.uk>  Wed, 21 Feb 2024 14:10:41 +0000

quicktill (23.1) stable; urgency=low

  * New release 23.1

  * Clear line note when stock is disconnected, if configured

  * Trigger stockline_change notification on usestock

  * Update EMF 2022 example data for v23 database

 -- Stephen Early <steve@assorted.org.uk>  Wed, 14 Feb 2024 23:56:27 +0000

quicktill (23.0) stable; urgency=low

  * New release 23.0

  * Update Debian packaging for release 23

  * Update release notes

  * Add a register instances table

  * Version string no longer needs to be u""

  * Database notifications on stock changes

  * Remove obsolete payment method configuration migration code

  * Simplify subcommand class

  * React immediately when a user moves to a new terminal

  * Fix listen module

  * Add 'N' to prompt on stock terminal page

  * Cope better when a remote CUPS server is offline

  * Add 'nullslast' to Last seen column of usertokens

  * Use modal instead of dropdown for department form

  * Use modals instead of dropdowns for forms on stock type detail page

  * Stock type metadata

  * Fix docstring on models.PaymentMeta

  * Update EMF example for current receipt printer config location

  * Remove 'twitter' permission

  * Use toml version of dbsetup in github tests

  * Ensure stocklines.selectline passes instance in current ORM session

  * Add a "note" column to the stocklines table

  * Add "last seen" column for users

  * Bring emfcamp example config up to date

  * Replace yaml with toml

  * Remove Twitter support

  * Start of development for release 23

 -- Stephen Early <steve@assorted.org.uk>  Fri, 09 Feb 2024 13:13:00 +0000

quicktill (22.20) stable; urgency=low

  * New release 22.20

  * Swap order of options on delivery print menu

  * Don't try to print price list when there is no printer

 -- Stephen Early <steve@assorted.org.uk>  Fri, 26 Jan 2024 11:30:26 +0000

quicktill (22.19) stable; urgency=low

  * New release 22.19

  * Optionally restrict stock label printing based on item unit

  * Change stock label reprint options

  * Add a datatable showing user tokens

  * Add options to customise Square terminal availability per till

  * Update how we store information about disabled Square terminals

  * Add JSON viewer to payment method internal state in web interface

  * Fix crash when keymenu has no items in it

  * Support running without a receipt printer or cash drawer

  * Move printer config from printer module to tillconfig

  * Update example till configurations

  * localutils: don't set K_APPS to None if no apps menu provided

  * Add pages showing sales and payments independently of sessions

  * Remove separate pages for sales per department per session

  * Remove deferred-transactions view from transaction nav

  * Add page showing all transactions in a datatable

  * Datatable for transactions on session detail pages

 -- Stephen Early <steve@assorted.org.uk>  Wed, 24 Jan 2024 17:30:05 +0000

quicktill (22.18) stable; urgency=low

  * New release 22.18

  * Fix Transline.original_amount attribute

 -- Stephen Early <steve@assorted.org.uk>  Wed, 17 Jan 2024 21:38:54 +0000

quicktill (22.17) stable; urgency=low

  * New release 22.17

  * Button and page for adding new users in the web interface

  * Add a "edit-group" permission

  * Add tabbed interface and datatables to user detail pages

  * Add tabs for deliveries and log entries to supplier detail pages

  * Use datatable for deliveries on supplier detail page

  * Convert deliveries page to datatable

  * Add a small bottom margin to the sessions page

  * Add a 'Sales' tab to session detail pages

  * Add a 'Payments' tab to session detail pages

  * Add small amount of padding above log table

  * Remove call to is_ajax() which is removed in Django 4

  * Update to DataTables 1.13.8

  * Add a transaction line summary report to the web interface

  * Fix flake8 issue in delivery.py

 -- Stephen Early <steve@assorted.org.uk>  Wed, 17 Jan 2024 14:05:46 +0000

quicktill (22.16) stable; urgency=low

  * New release 22.16

  * Enable in-progress Square transactions to be backgrounded

 -- Stephen Early <steve@assorted.org.uk>  Sun, 10 Sep 2023 11:17:44 +0100

quicktill (22.15) stable; urgency=low

  * New release 22.15

  * Ensure the default action when editing a delivery is "update" not "delete"

  * Additional network error handling for Square Terminal

  * Prevent stock type deletion if referenced by stock line

  * Check carefully for optional form fields

  * Check list has members before trying to delete one

 -- Stephen Early <steve@assorted.org.uk>  Fri, 16 Jun 2023 13:54:08 +0100

quicktill (22.14) stable; urgency=low

  * New release 22.14

  * Fix crash on Square Terminal refund

 -- Stephen Early <steve@assorted.org.uk>  Fri, 26 May 2023 20:22:18 +0100

quicktill (22.13) stable; urgency=low

  * New release 22.13

  * Add config switch for printing session totals after confirmation

  * Make the refund help message configurable

  * Fix refunds for Card payment method

 -- Stephen Early <steve@assorted.org.uk>  Thu, 18 May 2023 21:10:57 +0100

quicktill (22.12) stable; urgency=low

  * New release 22.12

  * Fix spelling of status in SquarePayment!

 -- Stephen Early <steve@assorted.org.uk>  Fri, 14 Apr 2023 08:53:39 +0100

quicktill (22.11) stable; urgency=low

  * New release 22.11

  * Treat value of failed/canceled Square payments as zero

 -- Stephen Early <steve@assorted.org.uk>  Fri, 14 Apr 2023 00:45:44 +0100

quicktill (22.10) stable; urgency=low

  * New release 22.10

  * Check ABV when creating a new stock type

  * Fix tests and test warnings

  * Remove app info from tillweb models

  * Add apps module to tillweb

  * Fix the buying list report

 -- Stephen Early <steve@assorted.org.uk>  Thu, 13 Apr 2023 11:58:43 +0100

quicktill (22.9) stable; urgency=low

  * New release 22.9

  * It's 2023 now

  * Add support for fee calculations to the "Card" payment driver

  * Fix contact property of StockTake model

  * Deal with requests.get raising ReadTimeout

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 Feb 2023 15:28:21 +0000

quicktill (22.8) stable; urgency=low

  * New release 22.8

  * Log messages printed in kitchen

  * Reinstate the link to translines per department per session

  * Sort departments and users before sending to browser

  * WIP: Session web page updates

 -- Stephen Early <steve@assorted.org.uk>  Wed, 04 Jan 2023 17:55:11 +0000

quicktill (22.7) stable; urgency=low

  * New release 22.7

  * Log when transaction notes are changed manually

  * Fix StockTake.contact property

  * Datatable for users

  * Move datatable views to a new module

  * Fix searching for a session id in the web interface

  * Log state of transaction when printing

  * Fix search in sessions datatable

  * Update EMF example for release 22

 -- Stephen Early <steve@assorted.org.uk>  Sat, 12 Nov 2022 14:16:17 +0000

quicktill (22.6) stable; urgency=low

  * New release 22.6

  * Include all tillweb static js and css files

 -- Stephen Early <steve@assorted.org.uk>  Fri, 28 Oct 2022 10:55:27 +0100

quicktill (22.5) stable; urgency=low

  * New release 22.5

  * Search for Square card transactions

  * Update apt package list before installing packages for testing

  * Simple transaction search function

 -- Stephen Early <steve@assorted.org.uk>  Thu, 27 Oct 2022 13:17:48 +0100

quicktill (22.4) stable; urgency=low

  * New release 22.4

  * Installing odfpy is optional

  * Make opening the payment method menu on void optional

  * Fix join to User in datatable_payments view

  * Fix join to Transaction in datatable_payments view

  * Use DataTables for payment type page

  * Change SessionTotal.payment_amount to be a hybrid_property

  * DataTable for payments

  * Use column names when ordering datatables server-side

  * Don't insert commas into log ID numbers

  * Start to use DataTables in web interface

  * Remove obsolete zebra tables CSS classes

 -- Stephen Early <steve@assorted.org.uk>  Wed, 26 Oct 2022 13:01:43 +0100

quicktill (22.3) stable; urgency=low

  * New release 22.3

  * Fix reading of paginated results from Square API

 -- Stephen Early <steve@assorted.org.uk>  Fri, 14 Oct 2022 00:11:31 +0100

quicktill (22.2) stable; urgency=low

  * New release 22.2

  * Add "collect_signature" setting to Square Terminal driver

  * Update README

 -- Stephen Early <steve@assorted.org.uk>  Thu, 13 Oct 2022 20:02:08 +0100

quicktill (22.1) stable; urgency=low

  * New release 22.1

  * Enable failed Square payments to be removed from transactions

  * Fix cancelling payments

  * Purge SquareTerminal temporary metadata at end of session

  * Add notifications of session start/end to payment drivers

  * Square Terminal refunds

  * Minor optimisation to payment type view in tillweb

  * Fix merging transactions with payments

  * Don't conflate giving change with noninteractive payments

  * Add a Transaction method to return related transaction IDs

  * Change "Waiting for Square" to "Connecting to Square"

  * Prettify JSON metadata in web interface

  * Add note about imported code to README

  * Show fees on web sessions page

  * Enable "Add new terminal" popup to be dismissed

  * Default account_code to "" not None

 -- Stephen Early <steve@assorted.org.uk>  Sun, 09 Oct 2022 23:21:48 +0100

quicktill (22.0) stable; urgency=low

  * New release 22.0

  * Square Terminal driver

  * Major payments system changes

 -- Stephen Early <steve@assorted.org.uk>  Fri, 23 Sep 2022 20:02:39 +0100

quicktill (21.3) stable; urgency=low

  * New release 21.3

  * Store Twitter credentials in database

 -- Stephen Early <steve@assorted.org.uk>  Fri, 23 Sep 2022 14:34:23 +0100

quicktill (21.2) stable; urgency=low

  * New release 21.2

  * Add non-standard bank holiday for Queen's funeral

  * Add method to notify ui elements that they are about to be hidden

  * Use chart.js for pie charts instead of matplotlib

  * Import func directly from sqlalchemy, not via td

 -- Stephen Early <steve@assorted.org.uk>  Sun, 11 Sep 2022 12:05:45 +0100

quicktill (21.1) stable; urgency=low

  * New release 21.1

  * Record terminal name when voiding a transaction line

  * Minor database trigger updates

  * Update log text for Unit

 -- Stephen Early <steve@assorted.org.uk>  Mon, 22 Aug 2022 12:08:42 +0100

quicktill (21.0) stable; urgency=low

  * New release 21.0

  * Update example data from EMF 2022

  * Untabify release notes

  * Add explicit config options for "default" payment methods

  * Warn when obsolete Xero config is present

  * Split Department.accinfo

  * Move stocktake_by_items from StockType to Unit

  * Move sample dbsetup template from dbsetup.py to examples

  * Add a minimal practical configuration file example

  * Add stock-taking quantities to Unit

  * Log when unknown config file options are encountered

  * Don't set config variable defaults from the config file

  * Log DeprecationWarnings from code called by the config file

  * Use stockterminal_location in localutils.global_hotkeys()

  * Add a "source" column for translines and payments

  * Ignore role names when checking database schema

  * Add database constraints to ensure abv/minabv/maxabv are not negative

  * Add metadata table for sessions

  * Add description column to VAT bands

  * Remove "pricechanged" column from stocktypes

  * Implement min/max ABV for departments

  * Change many uses of .format() and % into f-strings

  * Sample database and config file from EMF 2022

  * Initialise queries_before_render before querylog_callback

  * Initialise database event listener for standalone on-screen-keyboard

 -- Stephen Early <steve@assorted.org.uk>  Sat, 06 Aug 2022 11:55:21 +0100

quicktill (20.3) stable; urgency=low

  * New release 20.3

  * Compress released .deb files with gzip not xz

  * Make RemoveCode.id configurable for sold and pulled through stock

  * Add simple tests in github actions

  * Change from setup.py to setup.cfg

  * Clean up for flake8

 -- Stephen Early <steve@assorted.org.uk>  Thu, 14 Jul 2022 15:16:18 +0100

quicktill (20.2) stable; urgency=low

  * New release 20.2

  * Remove User references from log while anonymising database

  * Add viewonly=True to Session.incomplete_transactions

  * Add an option to lock the register after each No Sale

 -- Stephen Early <steve@assorted.org.uk>  Mon, 27 Jun 2022 22:02:05 +0100

quicktill (20.1) stable; urgency=low

  * New release 20.1

  * Add a permission for editing barcode assignments

  * Update README and year

  * Enable barcode scanner on stock terminals

  * Special case bank holidays for 2022

 -- Stephen Early <steve@assorted.org.uk>  Fri, 13 May 2022 21:34:52 +0100

quicktill (20.0) stable; urgency=low

  * New release 20.0

  * Update 2018 emfcamp data for current database schema

  * Prepare for release 20

  * Update manpage

  * Read-only web interface for barcodes

  * Reorganise sidebar menu in tillweb

  * Log waste recorded via web interface

  * Log details of recorded waste

  * Support barcodes and stock types in Record Waste

  * Editing of barcode bindings

  * Split modifiers.selectmodifier() from modifiers.modifiermenu()

  * Add plu.selectplu() popup

  * Add placeholder 'stocktype' attribute to KeyboardBinding

  * Change StockType.remaining to exclude stock on stocklines

  * Add stocktype.stocktypefield

  * Look up barcode details when processing scan

  * Support barcodes in stocklines menu

  * Add barcode support to Price Check

  * Initial barcode scanner support

  * Better heuristic for ui.listpopup width

 -- Stephen Early <steve@assorted.org.uk>  Sun, 20 Mar 2022 10:25:57 +0000

quicktill (19.7) stable; urgency=low

  * New release 19.7

  * Add a subcommand to show received user tokens

  * Add some more logging

  * New page for starting a stock take

  * Creation and editing of departments in tillweb

  * Allow web username to be set by adduser command

  * Fix logging of changes to current user

  * Use yaml.safe_load() instead of yaml.load()

 -- Stephen Early <steve@assorted.org.uk>  Wed, 20 Oct 2021 17:35:06 +0100

quicktill (19.6) stable; urgency=low

  * New release 19.6

  * Fix xero session invoice where tillweb URL is not set

  * Remove imports from listen module

 -- Stephen Early <steve@assorted.org.uk>  Sun, 03 Oct 2021 17:50:35 +0100

quicktill (19.5) stable; urgency=low

  * New release 19.5

  * Add config flag to permit merging transactions with payments

 -- Stephen Early <steve@assorted.org.uk>  Fri, 28 May 2021 09:39:43 +0100

quicktill (19.4) stable; urgency=low

  * New release 19.4

  * Support for cancelling cash payments in transactions

  * Don't try to show on-screen keyboard when not configured

 -- Stephen Early <steve@assorted.org.uk>  Sun, 16 May 2021 20:35:10 +0100

quicktill (19.3) stable; urgency=low

  * New release 19.3

  * Revert "Use selectinload() to load transaction lines, payments and metadata"

 -- Stephen Early <steve@assorted.org.uk>  Wed, 28 Apr 2021 23:30:08 +0100

quicktill (19.2) stable; urgency=low

  * New release 19.2

  * Update Haymakers example config from live installation

  * Update EMF 2018 example data and config for v19.2

  * Use selectinload() to load transaction lines, payments and metadata

  * Add metadata tables for translines and payments

  * Fix ssh command options in make-release

 -- Stephen Early <steve@assorted.org.uk>  Wed, 28 Apr 2021 20:52:21 +0100

quicktill (19.1) stable; urgency=low

  * New release 19.1

  * Add register hooks for "no sale" and "cancel empty transaction"

  * Deal with Xero token expiry

  * Log changes to config settings from web

  * Fix summary of multiline config items

 -- Stephen Early <steve@assorted.org.uk>  Wed, 21 Apr 2021 13:38:13 +0100

quicktill (19.0) stable; urgency=low

  * New release 19.0

  * Update Debian packaging for release 19

  * Show details of payments for part-paid transactions in tillweb

  * Remove checks for some obsolete configuration keys

  * Web interface for displaying and editing config

  * Add an explicit MultiLineConfigItem

  * Add a config item class for monetary amounts

  * It's 2021 now!

  * Update Xero integration to OAuth 2.0

  * Add a secrets table to the database

  * Add a 'date' type to config

  * Simple command-line interface to set configuration values

  * There is no longer a command defined in stocktype.py

  * Config table

 -- Stephen Early <steve@assorted.org.uk>  Sat, 23 Jan 2021 18:12:44 +0000

quicktill (18.7) stable; urgency=low

  * New release 18.7

  * Notes about updates needed for sqlalchemy 2.0

  * Ensure note fits in field in transaction model

  * Deal with exception from requests.get() when reading the menu

  * Improve 'Undo' list handling in json food order popup

  * Add new food order module that uses json menus

 -- Stephen Early <steve@assorted.org.uk>  Thu, 07 Jan 2021 16:21:06 +0000

quicktill (18.6) stable; urgency=low

  * New release 18.6

  * Update make-release script for new repo location

  * Better handling of deferral of part-paid transactions

  * PEP8 payment.py

  * Support popup message on open transactions from transaction metadata

  * Update EMFCamp 2018 data for till version 18

  * subqueryload_all and joinedload_all are deprecated in sqlalchemy

  * Remember to close imports config files

  * Don't use positional arguments in GObject constructors

  * Don't pass a datetime.datetime to ui.label set() method

 -- Stephen Early <steve@assorted.org.uk>  Wed, 25 Nov 2020 13:10:51 +0000

quicktill (18.5) stable; urgency=low

  * New release 18.5

  * Improve Merge Transaction hooks in the register

  * Xero integration updates

 -- Stephen Early <steve@assorted.org.uk>  Wed, 28 Oct 2020 17:24:38 +0000

quicktill (18.4) stable; urgency=low

  * New release 18.4

  * Use the middle section of the header for user messages

  * Change the default minimum lock screen time for idle exit

 -- Stephen Early <steve@assorted.org.uk>  Fri, 25 Sep 2020 22:00:28 +0100

quicktill (18.3) stable; urgency=low

  * New release 18.3

  * Draw '...' on the lock screen while waiting

  * Delay running lockscreen plugins by 2s

 -- Stephen Early <steve@assorted.org.uk>  Thu, 23 Jul 2020 22:01:04 +0100

quicktill (18.2) stable; urgency=low

  * New release 18.2

  * Hide whole-stocktype figures and inputs by default in stocktake

  * When adjusting a stock type in a stock take, tick all stock items

 -- Stephen Early <steve@assorted.org.uk>  Sun, 19 Jul 2020 14:52:50 +0100

quicktill (18.1) stable; urgency=low

  * New release 18.1

  * Use StockItem.checked column in stock.stockfilter

  * Fix stock label printing

  * Add button to hide stocktype-level entry boxes for expanded stocktypes

  * Sort finished stocktake page by stocktype

  * Stock-take UI improvements

  * Fix reverse url lookup for stocktype search in stocktake page

 -- Stephen Early <steve@assorted.org.uk>  Thu, 02 Jul 2020 16:57:06 +0100

quicktill (18.0) stable; urgency=low

  * New release 18.0

  * Set synchronize_session=False on update to stocktype stocktakes

  * joinedload stocklines on stock take in progress page

  * Stocktake adjustment fixes

  * Add an Online Orders keycode

  * Properly fix transaction metadata cascade!

  * Configure transaction metadata delete cascade correctly

  * Show transaction metadata in web interface

  * More register hooks

  * Add register hooks so plugins can override default actions

  * Add TransactionMeta for key/value store on transactions

  * Extend lockscreen plugin to support regular refresh

  * Fix appsmenu shortcut keys in localutils

  * Replace unencodable characters when printing, instead of failing

  * Import modules from /etc/quicktill/default-imports

  * Initial version of stock take feature

  * Fix alignment in stocktype picker

 -- Stephen Early <steve@assorted.org.uk>  Mon, 29 Jun 2020 22:07:02 +0100

quicktill (17.0) stable; urgency=low

  * New release 17.0

  * Update example startup scripts for systemd

  * Packaging updates

  * Update EMF 2018 example data for new database schema

  * Add a 'bordertext' method to draw text in the border of a window

  * Prettify card payment popup

  * Prettify more things

  * Prettify PLU popups

  * Prettify linekeys module

  * Update README

  * Prettify sessions menu

  * Fix labels with coloured backgrounds

  * Delivery popups now use proportional font for labels

  * UI labels and buttons are now drawn with the proportional font

  * Add new 'drawstr' method to windows

  * Add custom formatter to stock types

  * Return till nav for Transactions to previous state

  * PEP8 on foodorder module

  * Remove staffdiscount function, and allow table numbers to be strings

  * Show log entries on transactions and transaction line detail pages

  * Log some more actions in the register

  * Remove brackets from default __str__ for models

  * Add log text for stock items

  * Log explicit price change on the till

  * Log price changes and other delivery events

  * Raise exception when logref requested for model that is not logged

  * Log changes to StockType

  * Move session logs to under the 'Info' tab

  * Improve consistency of __str__ in models

  * Add support for logging things done by web users

  * Fix logentry regexp to cope with multiple references

  * Add logs about delivery events

  * Make log entries visible in session and user pages in tillweb

  * Add log entries when sessions are managed

  * Fix log notify function

  * Enable listusers command to list inactive users too

  * Remove the "remove-duplicate-stocktypes" subcommand

  * Include notify trigger for new log entries, update release notes

  * Add simple log viewer page to tillweb

  * Fix html in sessions page when totals haven't been entered

  * LogEntry table

  * Enforce uniqueness of stock types

  * Make repr() of ORM instances be consistent

  * Update timesheets in haymakers example to use external module

  * Remove timesheets module

  * Update comment on StockLineTypeLog

  * Cascade deletion of stock annotations in the database

  * Prepare for quicktill17 release series

 -- Stephen Early <steve@assorted.org.uk>  Fri, 22 May 2020 16:36:26 +0100

quicktill (16.8) stable; urgency=low

  * New release 16.8

  * Fix regression in creating new stockunits

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 Apr 2020 15:36:08 +0100

quicktill (16.7) stable; urgency=low

  * New release 16.7

  * Include the rest of the tillweb static files in the package

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 Apr 2020 15:09:53 +0100

quicktill (16.6) stable; urgency=low

  * New release 16.6

  * Include multi-select in package

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 Apr 2020 14:47:58 +0100

quicktill (16.5) stable; urgency=low

  * New release 16.5

  * Handle unit correctly when displaying qty zero

  * Editing of stock lines in the web interface

  * Check list of inactive users before adding a new user record

  * Add a custom DateInput widget

  * Turn off autofill on new delivery date

  * Rename edit_*.html to edit-*.html for consistency

  * Creating, updating and deleting stock types

  * Display absent sale prices appropriately in delivery popup

  * Improve editing of deliveries in the web interface

  * It's 2020 now

  * Add string-key version of SQLAModelChoiceField

  * Creation and editing of deliveries through the web interface

  * Add select2 control and supporting forms code

  * Move delivery code into model

 -- Stephen Early <steve@assorted.org.uk>  Fri, 10 Apr 2020 13:59:08 +0100

quicktill (16.4) stable; urgency=low

  * New release 16.4

  * Add permissions for listing unbound stocklines and PLUs

  * Add 'return-stock' permission

  * Implement a 'move-keys' permission

  * Show default modifiers in key menus

  * Freezing long-running tabs

  * Make time after which warnings are given for open transactions configurable

  * PEP8 on tillconfig module

  * Enable max_transline_modify_age to be configured

  * Add a function to localutils that returns the next banking day in England

  * Update UnitType->Unit in spreadsheets

  * Add new group function

 -- Stephen Early <steve@assorted.org.uk>  Sun, 09 Feb 2020 19:05:25 +0000

quicktill (16.3) stable; urgency=low

  * New release 16.3

  * Don't create temporary StockUnit instances

  * Enable superusers to edit their own user details

  * Whitespace fix

  * Add custom fields for sqlalchemy model instances

  * Fix deferred transactions view

  * Use thread-local storage for database session in web interface

  * Fix spreadsheet download - no reference to StockUnit from StockItem

  * Move screen unblanking code around and add some logging

  * Edit supplier details through web interface

  * Show accounting system info on department page

  * Show user access permission in django admin

 -- Stephen Early <steve@assorted.org.uk>  Sun, 01 Dec 2019 16:54:39 +0000

quicktill (16.2) stable; urgency=low

  * New release 16.2

  * Editing of units and stockunits through the web interface

  * Convert "Add new price lookup" to a button

  * Change "Add new price lookup" into a button

  * Remove workaround for Django bug

  * Change urls+views to django 2 path/re_path scheme

  * Add drop-down menu for tillweb stock options

  * Delete annotations when stock item is deleted

 -- Stephen Early <steve@assorted.org.uk>  Wed, 20 Nov 2019 15:14:02 +0000

quicktill (16.1) stable; urgency=low

  * New release 16.1

  * Fix reference to unit name in usestock

  * Fix formatting in release notes

 -- Stephen Early <steve@assorted.org.uk>  Tue, 12 Nov 2019 14:52:19 +0000

quicktill (16.0) stable; urgency=low

  * New release 16.0

  * Fix Xero URL for bills

  * Fix annotate stock popup

  * Command to de-duplicate stocktypes

  * Better repr() for stocktypes

  * Update migration script to cope with more wine sizes

  * Add note about updating modifiers to release notes

  * Update emf2018 data for new schema

  * Remove migration code for old permissions system

  * Fix pricecheck popup

  * PEP8 in printers module

  * Major units update

  * Bump Debian package version

  * Add links to accounting system for sessions and deliveries

  * Remove models.SessionNote and models.SessionNoteType

  * Update release notes for v15

  * Tidy up imports in models

 -- Stephen Early <steve@assorted.org.uk>  Mon, 11 Nov 2019 17:34:42 +0000

quicktill (15.2) stable; urgency=low

  * New release 15.2

  * Reset prompt to default when selling an item from a PLU

  * Fix waste report spreadsheet

  * Fix buying list query to work with more recent sqlalchemy

  * Creating, editing and deleting of price lookups through the web interface

  * Simplify the database model base class

  * Add useful constants for money datatype to models

  * Update emfcamp example to use touchscreen layout for on-screen keyboard

  * Update 2018 EMF example data to current schema

  * Freeze StockItem.shelflife property when stock is finished

  * Update 'haymakers' example config file

  * Enable transaction note editing in tillweb

  * Rename submit buttons appropriately

  * Add multi-column multiple select to web interface for users and groups

  * Update web access descriptions

  * Remove f-strings: we still need to support python3.5

 -- Stephen Early <steve@assorted.org.uk>  Mon, 21 Oct 2019 17:28:21 +0100

quicktill (15.1) stable; urgency=low

  * New release 15.1

  * Conflict/replace quicktill14

 -- Stephen Early <steve@assorted.org.uk>  Mon, 22 Jul 2019 08:18:17 +0100

quicktill (15.0) stable; urgency=low

  * New release 15.0

  * Bump package name to quicktill15

  * Editing of users and their groups through the web interface

  * joinedload_all -> chained joinedload, subqueryload_all -> chained subquery

  * staticfiles -> static because staticfiles is removed in django-3.0

  * Support for editing groups in tillweb

  * New permissions / group system

  * Add warning when legacy menuurl config is present

  * Debug menu option to fake using a usertoken

 -- Stephen Early <steve@assorted.org.uk>  Mon, 22 Jul 2019 08:06:45 +0100

quicktill (14.4) stable; urgency=low

  * New release 14.4

  * Tidy up correctly if metadata.create_all() fails in checkdb

  * Disable receipt printer in testmenu subcommand

 -- Stephen Early <steve@assorted.org.uk>  Thu, 27 Jun 2019 12:39:45 +0100

quicktill (14.3) stable; urgency=low

  * New release 14.3

  * Set department rather than dept_id in register.deptlines

 -- Stephen Early <steve@assorted.org.uk>  Thu, 20 Jun 2019 18:41:29 +0100

quicktill (14.2) stable; urgency=low

  * New release 14.2

  * Apply department-dependent discounts correctly to newly-created translines

  * Update waste report explanatory text

 -- Stephen Early <steve@assorted.org.uk>  Sat, 11 May 2019 15:45:31 +0100

quicktill (14.1) stable; urgency=low

  * New release 14.1

  * Add 'unaccounted' waste to waste report spreadsheet

  * Include sale price in stock spreadsheets

  * Fix pending_total and error properties on Session

  * Clarify transaction state in session transaction list

  * Update copyright message for 2019 (and unicode!)

 -- Stephen Early <steve@assorted.org.uk>  Tue, 05 Mar 2019 16:01:21 +0000

quicktill (14.0) stable; urgency=low

  * New release 14.0

  * Update EMF 2018 example data with recent database schema changes

  * Fix money formatting problem in stocktype detail page

  * Minor format fixes to tillweb session page

  * Show sale quantity in stocktype list

  * Warn about unconfirmed deliveries in tillweb

  * When splitting a transaction, drag along voided lines

  * Tillweb support for displaying discounts

  * Discounts feature

  * Remove old odd/even stripe classes from sessions table

 -- Stephen Early <steve@assorted.org.uk>  Mon, 18 Feb 2019 18:52:11 +0000

quicktill (0.13.5) stable; urgency=low

  * New release 0.13.5

  * More minor style updates

  * More bootstrap style updates

  * Rename style sheet

  * More bootstrap style updates

  * Sort tills alphabetically in multi-till mode

  * Remove local copy of jquery and jquery-ui

  * Include cost price in tillweb stock list

  * Include cost price in stock spreadsheet

  * WIP: update tillweb for bootstrap-based websites

  * Remove dependency of lockscreen on foodorder

  * Be careful not to touch voids / voided service charges

  * Convert foodorder to using a RegisterPlugin

 -- Stephen Early <steve@assorted.org.uk>  Tue, 08 Jan 2019 22:58:16 +0000

quicktill (0.13.4) stable; urgency=low

  * New release 0.13.4

  * Add a simple "Service Charge" plugin

  * Add support for plugins to the register

 -- Stephen Early <steve@assorted.org.uk>  Wed, 14 Nov 2018 19:44:49 +0000

quicktill (0.13.3) stable; urgency=low

  * New release 0.13.3

  * Fix kitchen printer status on lockscreen

 -- Stephen Early <steve@assorted.org.uk>  Mon, 29 Oct 2018 14:16:39 +0000

quicktill (0.13.2) stable; urgency=low

  * New release 0.13.2

  * Allow multiple kitchen printers

 -- Stephen Early <steve@assorted.org.uk>  Mon, 29 Oct 2018 14:09:45 +0000

quicktill (0.13.1) stable; urgency=low

  * New release 0.13.1

  * More general glob for package uploads

  * Add a --geometry command line argument to set initial window size

  * "Move keys" function

  * Keys with no keycap now default to being unlabelled

  * Add keyboard to description of Manage Till option 4

  * Show useful information on stock terminal for display/continuous stocklines

  * Allow department to be changed while editing stock type

  * Set register auto-lock timeout through localutils

  * Exit with "idle" exit code on update notification

  * Add option to allow card payment references to be blank

  * Fit stockline dialog to screen height

  * Make groups visible again in the user permission editor

  * Add missing files back into the Debian package

 -- Stephen Early <steve@assorted.org.uk>  Wed, 24 Oct 2018 21:02:52 +0100

quicktill (0.13.0) stable; urgency=low

  * New release 0.13.0

  * Reduce stock type selector window height by 1

  * Fix popup menu for selecting stock type

  * On-screen keyboard layouts for 8, 7 and 6 rows

  * Remove shortname field from stock types

  * Change RH panel split to 4/5 - 1/5

  * Add an optional right-hand on-screen keyboard panel

  * Enable custom CSS to be specified in config file

  * Store line key CSS class in the database

  * Make database engine available as td.engine

  * Oops - fix gtk display with no on-screen keyboard

  * Add facility to listen for postgres async notifications

  * Colourful on-screen keyboard using CSS

  * Bump package name to quicktill4, version to 0.13

  * Allow UserToken.user_id field to be nullable

  * Add an 'autodetect' printer connection driver

  * Add a driver for the Aures ODP 333 receipt printer

  * Enforce uniqueness of supplier names

  * Set Transline.text to nullable=False

  * Add check constraint to ensure transline.amount is non-negative

  * Set up example users in emfcamp 2018 dataset

 -- Stephen Early <steve@assorted.org.uk>  Thu, 18 Oct 2018 20:37:55 +0100

quicktill (0.12.30) stable; urgency=low

  * New release 0.12.30

  * Move "print price list" function to Manage Stock menu

  * Add EMF 2018 config file, update README

  * Anonymised data from EMF 2018

  * Don't pass negative amounts to register from foodorder

  * Improve database redaction command

  * Fix __str__ on TextElement in pdrivers

  * Oops - fix nullprinter

 -- Stephen Early <steve@assorted.org.uk>  Wed, 12 Sep 2018 13:59:57 +0100

quicktill (0.12.29) stable; urgency=low

  * New release 0.12.29

  * Center "Price List" header

  * Very simple price list printer

  * Shorten card payment ref with machine id

  * Reinstate payment amount prompt unconditionally

  * Some minor whitespace / pep8 fixes

  * Add ask_for_machine_id to example configs

  * Implement ask_for_machine_id on CardPayment

  * Use ui.moneyfield in the card payment screen

  * Clarify README quickstart

  * Simple refusals log

  * Show an error when there are no locations, fixes #158.

  * Rewrite of printer driver internals

  * Remove unused setdefattr() method from printer drivers

  * Remove 'justcheckfit' argument and 'checkwidth' method from printer drivers

  * Remove unused "allowwrap" keyword argument in printer drivers

  * Use personal email address instead

  * Fix HTML on reports page

  * Add report to web interface showing sales by stocktype

  * Add a note about printer support to the README

  * Typo!

  * Update README with quick setup instructions

  * Add a waste report to the web interface

 -- Stephen Early <steve@assorted.org.uk>  Sun, 26 Aug 2018 20:10:33 +0100

quicktill (0.12.28) stable; urgency=low

  * New release 0.12.28

  * Compatibility: prehkeyboard can use old-style keyboard definitions

 -- Stephen Early <steve@assorted.org.uk>  Tue, 29 May 2018 07:48:09 +0100

quicktill (0.12.26) stable; urgency=low

  * New release 0.12.26

  * Some sites don't use the keyboard definitions in localutils

 -- Stephen Early <steve@assorted.org.uk>  Mon, 28 May 2018 23:25:05 +0100

quicktill (0.12.25) stable; urgency=low

  * New release 0.12.25

  * Deselect stock terminal when Clear or Cancel is pressed

 -- Stephen Early <steve@assorted.org.uk>  Sat, 26 May 2018 15:02:06 +0100

quicktill (0.12.24) stable; urgency=low

  * New release 0.12.24

  * Tidy up includes in till.py

  * Fix typo in user.py

  * When searching for transaction lines to update, skip payment lines

  * Catch problems printing a receipt

  * Use new keyboard definition style throughout

  * Don't propagate key presses to widgets in the Gtk window

  * Show configname in version popup

  * Share on-screen-keyboard code between Gtk and ncurses modes

  * Arrow key keycaps are now arrows

  * Remove kbdiff subcommand

  * Put on-screen keyboard and Gtk till interface in same window

  * Use super() without arguments wherever possible

  * No need to inherit from object

  * Include more information in keyboard layout definitions

  * Don't show the stillage layout page on the stock terminal if it's empty

  * Add database dumps from EMF 2016 to use as example data

  * Strip whitespace from config URL

  * Use StockLine.locations() in web view

  * Remove the default 'l' hotkey for the lock screen

 -- Stephen Early <steve@assorted.org.uk>  Sat, 26 May 2018 13:18:46 +0100

quicktill (0.12.23) stable; urgency=low

  * New release 0.12.23

  * Let the user choose the location in the stock terminal

  * Don't use super() inside a list comprehension

  * Don't send job to cups when exception raised in printer driver

  * Show more informative message if timesheets password is wrong

  * Inform user when trying to rename stock line to an existing name

  * Expand quantity field for Record Waste function

  * Remove some unused import from register

  * Check that we don't overflow StockOut.qty

 -- Stephen Early <steve@assorted.org.uk>  Thu, 17 May 2018 15:41:10 +0100

quicktill (0.12.22) stable; urgency=low

  * New release 0.12.22

  * Very simple discounts feature

  * Thread-local database sessions

  * Stop using deprecated "imp" module

  * Also remove pending user messages

  * Add a command to anonymise the user database

  * Add emfcamp config file as an example

  * Add some more common configuration to localutils

  * Update the example check-menu script

 -- Stephen Early <steve@assorted.org.uk>  Wed, 09 May 2018 14:12:25 +0100

quicktill (0.12.21) stable; urgency=low

  * New release 0.12.21

  * Speed up scrolling down in scrollables

  * Fix alarmpopup

  * Add 'testmenu' subcommand

  * Support starting up with no database or config file

  * Delete django example code - moved to separate project

 -- Stephen Early <steve@assorted.org.uk>  Thu, 12 Apr 2018 20:38:26 +0100

quicktill (0.12.20) stable; urgency=low

  * New release 0.12.20

  * Speculative fix for cairo surface memory leak

 -- Stephen Early <steve@assorted.org.uk>  Mon, 09 Apr 2018 13:49:39 +0100

quicktill (0.12.19) stable; urgency=low

  * New release 0.12.19

  * Tone down the colours a bit!

 -- Stephen Early <steve@assorted.org.uk>  Mon, 09 Apr 2018 12:59:58 +0100

quicktill (0.12.18) stable; urgency=low

  * New release 0.12.18

  * Fix handling of username in libpq connection strings

 -- Stephen Early <steve@assorted.org.uk>  Mon, 26 Mar 2018 15:35:32 +0100

quicktill (0.12.17) stable; urgency=low

  * New release 0.12.17

  * Fix stockterminal auto-lock

 -- Stephen Early <steve@assorted.org.uk>  Sun, 18 Mar 2018 13:52:43 +0000

quicktill (0.12.16) stable; urgency=low

  * New release 0.12.16

  * Add options for fullscreen and fonts

  * Another font size tweak

  * pricecheck minor tidy up

  * Use proportional font for stockterminal footer if available

  * Use proportional font in lockscreen if available

  * Experiment with making Gtk window fullscreen

  * Enable Gtk window to be resized

  * Tweak popup title and clear text locations

  * Start to use proportional fonts

  * Calculate character cell size from font metrics

  * PEP8 pass and tidyup in ui module

  * Reinstate wrapstr method

  * It's 2018 now!

  * Pluggable user interface backends

  * Linewrap

  * Event loop changes

  * Add an on-screen keyboard for development and testing

 -- Stephen Early <steve@assorted.org.uk>  Fri, 16 Mar 2018 09:48:35 +0000

quicktill (0.12.15) stable; urgency=low

  * New release 0.12.15

  * Fix Xero upload code for delivery and session URLs

 -- Stephen Early <steve@assorted.org.uk>  Mon, 20 Nov 2017 16:52:31 +0000

quicktill (0.12.14) stable; urgency=low

  * New release 0.12.14

  * Get rid of subquery for department totals

  * Fetch session totals in a separate query to department totals

  * Update daily/weekly sheet query

  * Add additional choices for rows on the downloadable sessions spreadsheet

  * Show BestBefore date on stillage summary page of stockterminal

  * We no longer support python2 - remove compat code from tillweb models

  * on_delete will be a required arg for ForeignKey in Django 2.0

  * Add pager functionality to tillweb

  * Order deferred transactions on tillweb page by transaction ID

  * Add link to download stock spreadsheet for a department

  * Use django reverse() for all URL references in tillweb

  * Fix note about transaction deferral on tillweb

  * Stock spreadsheet code added to tillweb

  * PEP8 pass on user.py

 -- Stephen Early <steve@assorted.org.uk>  Wed, 15 Nov 2017 22:26:10 +0000

quicktill (0.12.13) stable; urgency=low

  * New release 0.12.13

  * Improve user / token management menu

  * Add page showing deferred transactions to tillweb

  * Oops again - move the endif as well!

  * Oops - move unpaid transaction total outside of for loop in template!

  * Add names to urlconf for embedded tillweb configurations

  * Show unpaid total on index page

  * Show deferred transactions amount on tillweb index page

  * Add a simple downloadable spreadsheet per session

  * Use callables for views in tillweb urlconf

  * Refactor tillweb spreadsheet generation code

  * Remove python2 compatibility code

  * PEP8 pass on tillweb spreadsheets.py

 -- Stephen Early <steve@assorted.org.uk>  Thu, 07 Sep 2017 12:16:46 +0100

quicktill (0.12.12) stable; urgency=low

  * New release 0.12.12

  * Show unconfirmed delivery state in tillweb

  * Add command to fill in text field in translines

  * Remove duplicated code from subcommand definitions

  * Move subcommands around

  * Quality control pass on tillweb

  * Work around broken undefer_group in sqlalchemy

  * Add migrations support to tillweb

  * Use the CUPS streaming API, pass host/port to constructor

  * Always show the printers menu when reprinting a single label

  * Update year (a little late...)

 -- Stephen Early <steve@assorted.org.uk>  Wed, 30 Aug 2017 15:24:17 +0100

quicktill (0.12.11) stable; urgency=low

  * New release 0.12.11

  * Add missing index to StockOut.translineid

  * Speed up transaction loading

 -- Stephen Early <steve@assorted.org.uk>  Fri, 11 Aug 2017 10:01:39 +0100

quicktill (0.12.10) stable; urgency=low

  * New release 0.12.10

  * Change note about small Bitcoin payments

  * Fix calculation of Christmas substitute bank holidays

  * Show correct sale price units on tillweb

 -- Stephen Early <steve@assorted.org.uk>  Wed, 31 May 2017 12:55:26 +0100

quicktill (0.12.9) stable; urgency=low

  * New release 0.12.9

  * Fix problem with ui.modelfield autocomplete

 -- Stephen Early <steve@assorted.org.uk>  Wed, 19 Apr 2017 17:07:38 +0100

quicktill (0.12.8) stable; urgency=low

  * New release 0.12.8

  * Fix returning items from display to stock

  * Remove models.permalink decorator from tillweb models

  * PEP8 pass on tillweb models

  * Add python_2_unicode_compatible decorator to tillweb models

 -- Stephen Early <steve@assorted.org.uk>  Sun, 19 Mar 2017 20:55:50 +0000

quicktill (0.12.7) stable; urgency=low

  * New release 0.12.7

  * Don't set Department tracking on cash differences

 -- Stephen Early <steve@assorted.org.uk>  Thu, 09 Feb 2017 13:22:32 +0000

quicktill (0.12.6) stable; urgency=low

  * New release 0.12.6

  * More Xero integration options

 -- Stephen Early <steve@assorted.org.uk>  Thu, 09 Feb 2017 12:36:56 +0000

quicktill (0.12.5) stable; urgency=low

  * New release 0.12.5

  * Increase size of waste amount field in Record Waste popup

  * Remove debug message from kbdriver

 -- Stephen Early <steve@assorted.org.uk>  Fri, 27 Jan 2017 14:09:13 +0000

quicktill (0.12.4) stable; urgency=low

  * New release 0.12.4

  * Add database constraint to ensure display capacity > 0

  * Use 'zero' instead of text("0.00") in models

  * Change Transaction.payments_total into a column property

  * Change Transaction.age into a column property

  * Start of attempt to speed up voiding

  * Speed up cancelling whole transactions

  * Remove more live config from haymakers example

 -- Stephen Early <steve@assorted.org.uk>  Sun, 18 Dec 2016 14:50:21 +0000

quicktill (0.12.3) stable; urgency=low

  * New release 0.12.3

  * Keyguard now opens the payment method menu

 -- Stephen Early <steve@assorted.org.uk>  Wed, 14 Dec 2016 17:55:46 +0000

quicktill (0.12.2) stable; urgency=low

  * New release 0.12.2

  * Allow transactions to be recalled by number

 -- Stephen Early <steve@assorted.org.uk>  Wed, 14 Dec 2016 17:21:22 +0000

quicktill (0.12.1) stable; urgency=low

  * New release 0.12.1

  * Only show UP or DOWN if there is a difference in session totals

  * Register permissions from permission_required decorator

  * Add Clear action to stock type field in continuous Use Stock popup

 -- Stephen Early <steve@assorted.org.uk>  Tue, 13 Dec 2016 16:52:44 +0000

quicktill (0.12.0alpha20) stable; urgency=low

  * New release 0.12.0alpha20

  * Show 'total cost ex-VAT' on delivery popup

  * Add a 'label' object type to ui

  * Add a 'costprice' column property to Delivery

  * Show deliveries from unlinked suppliers in 'pending' list

  * Use Stock on continuous stock line allows stock type to be changed

  * modelpopupfield passes on keypresses to popup when blank

  * More clarity about stock line types

  * Allow stock names to be truncated in stock terminal

  * Allow supplier and ref fields to be truncated in delivery list

  * Extend tableformatter to allow truncated fields

  * Prevent delivery confirmation when accounts are inaccessible

  * Minor updates to session total upload sequence

  * Update Haymakers example config from live config

  * Fix typo in Xero debug code

 -- Stephen Early <steve@assorted.org.uk>  Sun, 04 Dec 2016 19:06:39 +0000

quicktill (0.12.0alpha19) stable; urgency=low

  * New release 0.12.0alpha19

  * Fix tokenfield

 -- Stephen Early <steve@assorted.org.uk>  Sat, 26 Nov 2016 17:34:52 +0000

quicktill (0.12.0alpha18) stable; urgency=low

  * New release 0.12.0alpha18

  * Don't order stocklines by department any more

  * booleanfield no longer supports 'f' attribute

 -- Stephen Early <steve@assorted.org.uk>  Fri, 25 Nov 2016 13:12:36 +0000

quicktill (0.12.0alpha17) stable; urgency=low

  * New release 0.12.0alpha17

  * Set stocktype.saleprice_units when creating new stock items

 -- Stephen Early <steve@assorted.org.uk>  Mon, 21 Nov 2016 17:55:45 +0000

quicktill (0.12.0alpha16) stable; urgency=low

  * New release 0.12.0alpha16

  * Fix business info printing on receipts

  * Tillweb improvements: show stock on stocklines, and voided transline details

 -- Stephen Early <steve@assorted.org.uk>  Wed, 16 Nov 2016 16:26:14 +0000

quicktill (0.12.0alpha15) stable; urgency=low

  * New release 0.12.0alpha15

  * Show more information about stock lines in tillweb

 -- Stephen Early <steve@assorted.org.uk>  Mon, 14 Nov 2016 18:41:30 +0000

quicktill (0.12.0alpha14) stable; urgency=low

  * New release 0.12.0alpha14

  * Fix ugly lines on pie charts with small wedges

  * Close figures in tillweb after use

  * Show payment totals in payment method order in popup

  * Show pending payments in current totals popup

  * Add "date racked" to stock terminal stillage page

  * Fix creating stocklines

  * Show deferred transactions total when no session is active

  * Clean up validate_int function

  * Fix the twitter client

  * Make the TAB key work again

  * Remove use of detached instances in several places

  * Catch exceptions in PriceGuessHook

  * Guard against exceptions in UseStockHook

 -- Stephen Early <steve@assorted.org.uk>  Sun, 13 Nov 2016 21:08:09 +0000

quicktill (0.12.0alpha13) stable; urgency=low

  * New release 0.12.0alpha13

  * Stock put on sale on display stocklines must not already be finished

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 10 Nov 2016 22:42:26 +0000

quicktill (0.12.0alpha12) stable; urgency=low

  * New release 0.12.0alpha12

  * Fix "show stock lines with no key bindings" function

  * Add debug message to usestock.put_on_sale()

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 10 Nov 2016 13:02:54 +0000

quicktill (0.12.0alpha11) stable; urgency=low

  * New release 0.12.0alpha11

  * Remove remaining references to register.trans

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 10 Nov 2016 12:05:20 +0000

quicktill (0.12.0alpha10) stable; urgency=low

  * New release 0.12.0alpha10

  * Fix other foodmenu subopts exception!

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Nov 2016 14:02:18 +0000

quicktill (0.12.0alpha9) stable; urgency=low

  * New release 0.12.0alpha9

  * Open network printers in raw mode

  * Fix foodmenu subopts exception

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Nov 2016 13:59:54 +0000

quicktill (0.12.0alpha8) stable; urgency=low

  * New release 0.12.0alpha8

  * Oops - finish renaming hooks

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Nov 2016 12:44:40 +0000

quicktill (0.12.0alpha7) stable; urgency=low

  * New release 0.12.0alpha7

  * Fix current session total popup

  * Add dependency on python3-dateutil

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Nov 2016 11:56:05 +0000

quicktill (0.12.0alpha6) stable; urgency=low

  * New release 0.12.0alpha6

  * README updates

  * Add 'kbdiff' command temporarily

  * Update Haymakers example file for modifiers changes

  * Remove curseskeyboard() backwards-compatibility code

  * Deal with New Years Day being a Saturday

  * Add "check connection" option to Xero

  * Update release notes

  * checkdb command output includes transaction

  * Allow suppliers to be linked to Xero contacts

  * Don't send UnitAmount element if cost price is unknown

  * WIP: Delivery to Xero bill

  * PEP8 pass on delivery.py

  * Change priceguess to use new plugin system

  * Change usestock_hook to use the new plugin system

  * Xero sessions integration

  * Simple plugin system

  * Add accounting info fields to more models

  * Voided transaction line tracking

  * First attempt at Xero integration

  * Store transaction ID instead of Transaction object in register

  * Fix for sales from display stocklines with negative ondisplay

  * WIP: database query optimisation

  * Implement stock purge for continuous stocklines

  * PEP8 pass on session.py

  * Fix calculate_sale on continuous stocklines

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Nov 2016 10:24:27 +0000

quicktill (0.12.0alpha5) stable; urgency=low

  * New release 0.12.0alpha5

  * Speculative fix for twitter interface

 -- Stephen Early <steve@greenend.org.uk>  Fri, 05 Aug 2016 20:28:44 +0100

quicktill (0.12.0alpha4) stable; urgency=low

  * New release 0.12.0alpha4

  * Fix "Use Stock" and auto-dismiss in stock terminal

  * quicktill 0.12.0alpha3

  * Fix closing </div> in tillweb index when nothing on the bar

  * More helpful message after building package

  * Add python3-sqlalchemy to build-depends

 -- Stephen Early <steve@assorted.org.uk>  Tue, 02 Aug 2016 14:33:45 +0100

quicktill (0.12.0alpha3) stable; urgency=low

  * New release 0.12.0alpha3

  * Fix closing </div> in tillweb index when nothing on the bar

  * More helpful message after building package

  * Add python3-sqlalchemy to build-depends

 -- Stephen Early <steve@assorted.org.uk>  Tue, 02 Aug 2016 13:09:52 +0100

quicktill (0.12.0alpha2) stable; urgency=low

  * New release 0.12.0alpha2

  * Fix reading config url file

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 31 Jul 2016 13:21:18 +0100

quicktill (0.12.0alpha1) stable; urgency=low

  * New release 0.12.0alpha1

  * Update release scripts

  * tillweb updates for django-1.9

  * Add column to stocktypes specifying default sale unit

  * Price lookup support for continuous stocklines

  * Record waste against continuous stock lines too

  * StockItem.displayqty is now a Numeric() not an Int()

  * WIP: sales on continuous stock lines

  * New, simpler auto_allocate function

  * WIP: revamp usestock for new stockline types

  * Copy list before deleting from it!

  * WIP: allow creation and editing of new types of stockline

  * New convenience function to display wrapped text

  * Permit blank lines in keymenu and lrline

  * WIP: introduce new "continuous" stockline type

  * Change modifier interface to use new ProposedSale object

  * PEP8 pass on modifiers.py

  * PEP8 cleanup of register

  * Prevent null transaction notes

  * Fix crash on cashback error popup

  * Refactor to move curses-specific code to the ui module

  * Remove "department key" functionality

  * Make PLUs act like department keys when no price is set

  * Autocomplete for supplier select

  * Improve stock type selection dialog

  * Update Bitcoin payment method to use python-requests

  * Allow payment methods to refuse to provide a total

  * PEP8 and minor cleanups for models

  * Update example config script - fix apps menu

  * Right-align prompts and left-align descriptions in keymenu

  * Update release notes to fix database update script

  * Add accounting system info column to departments table

  * Fix QR code printing

  * Explicitly encode string as utf-8 before hashing for check digits

  * Fix stock check popup

  * Remove "print stock list" option

  * Remove "print delivery on receipt printer" option

  * Print payment types in consistent order

  * Open printer device in binary mode

  * It's 2016!

  * Treat default version string as utf-8

  * Prevent negative timeouts in event loop

  * Python 3 - remove references to unicode

  * Python 3 fixes - permission_checked and usertoken

  * Merge branch 'python3'

  * Reduce curses dependencies part 1: keycodes

  * Add __str__ compatibility in models

  * Use future division in ui

  * First working python 3 version

  * Merge branch 'stable'

  * Various updates from 2to3

  * Move curses update functions from event loop to ui

  * Remove old default exit options

  * Change Transline.stockref to be a list

 -- Stephen Early <steve@assorted.org.uk>  Sat, 30 Jul 2016 14:44:24 +0100

quicktill (0.11.9) stable; urgency=low

  * New release 0.11.9

  * Support screen unblanking when running in an xterm

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 24 Dec 2015 11:43:17 +0000

quicktill (0.11.8) stable; urgency=low

  * New release 0.11.8

  * Restart the register timeout when it receives the input focus

  * Register deselects itself after a timeout

  * Add option for the till to exit if idle on the lock screen

  * Enable exit menu options to be specified on the command line

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 07 Dec 2015 12:04:49 +0000

quicktill (0.11.7) stable; urgency=low

  * New release 0.11.7

  * Add .ajax templates to package

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 17 Nov 2015 16:40:17 +0000

quicktill (0.11.6) stable; urgency=low

  * New release 0.11.6

  * Add event handling time alarm and gc stats

  * Split user class has_permission() method into two

  * Add permissions for cancelling lines from transactions

  * Clear marks when adding new lines to a transaction

  * Add info popup after transaction split

  * Function to split transactions

  * Use marked lines total as default payment amount

  * Use Mark key when cancelling lines from transactions

  * Load session page tabs using AJAX

  * Fetch department list only when necessary in tillweb

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 17 Nov 2015 14:32:06 +0000

quicktill (0.11.5) stable; urgency=low

  * New release 0.11.5

  * Add accordion to tillweb index page

  * Add users pie chart to session page

  * Add departments pie chart to tillweb

  * Use tabs in tillweb

  * Use kvtable

  * Integrate better with html5 containing site

  * Update jquery and jquery-ui to current versions

  * Don't show empty tables on index page

  * Configurable timeout in timesheets requests

  * Rewrite timesheet client using python-requests

  * Update example config file from current live Haymakers config

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 10 Nov 2015 14:08:44 +0000

quicktill (0.11.4) stable; urgency=low

  * New release 0.11.4

  * Add "pending totals" columns to tillweb

  * Add stock level check function to tillweb

  * Updated stock level check function

  * Model fixes discovered using checkdb

  * Add checkdb command

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 28 Sep 2015 20:51:08 +0100

quicktill (0.11.3) stable; urgency=low

  * New release 0.11.3

  * Prevent creation of duplicate accesses

  * Don't crash when merging with transaction owned by other user

  * Add user full name to list of accesses in tillweb

  * Add list filter to tillweb access admin

  * IPv6 support for usertoken listener

  * Add alter-modifier to default permissions for manager

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 31 Aug 2015 14:45:45 +0100

quicktill (0.11.2) stable; urgency=low

  * New release 0.11.2

  * Flush before re-reading total in PLU repeat

  * Fix pricecheck popup for price lookups

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 01 Aug 2015 10:44:22 +0100

quicktill (0.11.1) stable; urgency=low

  * New release 0.11.1

  * Prompt for initial stock on regular stocklines

  * Don't dismiss the stockline and PLU popups while editing bindings

  * Improvements to ui.scrollable

  * Line menu keys must have names

  * Don't hang when cursor is past the end of a scrollable on redraw

  * Add price lookups and modifiers to price check function

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 26 Jul 2015 18:08:25 +0100

quicktill (0.11.0) stable; urgency=low

  * New release 0.11.0

  * Package conflicts with and replaces the previous version

  * Add more documentation

  * Remove support for deprecated 'labelprinter' option

  * Update package name in build script

  * Remove qty from KeyboardBinding unit tests

  * Move example modifiers to example config file

  * Tighten the restrictions on repeating PLUs

  * Improve the "modify keyboard binding" help text

  * Deal with obsolete modifiers in the database

  * Automatically handle registry of modifiers

  * Update packaging information

  * Add shortcuts to editing windows for stocklines, PLUs and modifiers

  * Check for session before checking for explicit price

  * List unbound PLUs popup, binding creation fixes

  * Remove reference to qty when creating keyboard binding

  * Tillweb additions for price lookups

  * First working version of new modifier system

  * Work in progress: first version of modifiers menu

  * Work in progress: price lookups

  * Deal with scrollables that have no contents and no lastline

  * Add network information popup

  * Move stock line menu into managetill module

  * Move the linemenu function to the linekeys module

  * Rename managekeyboard to linekeys

  * Rename plu to pricecheck

  * Move the calculate_sale function into the StockLine model

  * Model changes for new PLU feature

  * Add display capacity and pullthru to stockline menu

  * Fix Caps Lock issue with keyboard driver

  * Remove list of modules from init file

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 22 Jul 2015 21:05:04 +0100

quicktill (0.10.57) stable; urgency=low

  * New release 0.10.57

  * Change printer problem logs to info

  * Implement the "return finished item to stock" feature

  * Improve display of stock information

  * Remove restriction on annotation length

  * Record use of re-print stock label function

  * Allow default user to be specified on command line

  * Log printer errors when they are displayed on the lock page

  * Give foodcheck page the kitchen-order permission

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 18 Jun 2015 12:48:44 +0100

quicktill (0.10.56) stable; urgency=low

  * New release 0.10.56

  * Add some more permission checks

  * Prevent blank annotations

  * Update foodcheck to match register callback

  * Recall Trans first menu entry can now lock register

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 26 Apr 2015 17:03:09 +0100

quicktill (0.10.55) stable; urgency=low

  * New release 0.10.55

  * Add best-before dates to web interface

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 18 Mar 2015 12:39:59 +0000

quicktill (0.10.54) stable; urgency=low

  * New release 0.10.54

  * User interface for adding best-before dates to existing stock

  * Add best-before date stockfilter option

  * Update example script to use default permissions

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 17 Mar 2015 10:47:54 +0000

quicktill (0.10.53) stable; urgency=low

  * New release 0.10.53

  * Use automenu spill="keymenu" from foodorder module

  * Add parameter to automenu to specify how options should be spilled

  * Remove duplicate entries from default permissions

  * Update README for examples

  * Remove obsolete examples and tillweb code

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 16 Mar 2015 13:37:14 +0000

quicktill (0.10.52) stable; urgency=low

  * New release 0.10.52

  * Allow top-level food menu to be unlimited in length as well

  * Improvements to menu file handling

  * Cache food order module

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 13 Mar 2015 12:52:57 +0000

quicktill (0.10.51) stable; urgency=low

  * New release 0.10.51

  * Don't toast version number on startup

  * cupsprinter shows offline status in description

  * ui.automenu converts strings to lrline() instead of line()

  * Enable multiple label printers to be configured

  * Update example config for non-global deptkeycheck

  * Add optional descriptions to printer drivers

  * Remove the legacy compatibility code for old labelprinter definitions

  * deptkeycheck function now specified per key rather than globally

  * Use keycap as stockline menu title

  * Add reprint-stocklabel function

  * Update copyright year

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 09 Mar 2015 16:11:29 +0000

quicktill (0.10.50) stable; urgency=low

  * New release 0.10.50

  * Allow food order items to have different departments

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 07 Jan 2015 17:00:57 +0000

quicktill (0.10.49) stable; urgency=low

  * New release 0.10.49

  * Add default definitions for permission groups

  * Convert printer popups into toasts

  * Flush toasts to the display immediately

  * Implement a function to allow creation of custom transaction lines

  * Remove the 'allow_tabs' config option

  * Ensure focus is set to None when page is deselected

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 05 Jan 2015 10:37:04 +0000

quicktill (0.10.48) stable; urgency=low

  * New release 0.10.48

  * Revert "Ignore usertokens when deciding to lock a register page"

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 31 Dec 2014 18:25:48 +0000

quicktill (0.10.47) stable; urgency=low

  * New release 0.10.47

  * Add handler to convert log warnings into toasts

  * Add support for toasts before curses is initialised

  * Ignore usertokens when deciding to lock a register page

  * Use a toast instead of infopopup for the "no sale" message

  * Remove obsolete "autodismiss" class

  * Display messages related to user tokens as toasts rather than popups

  * Add "toast" user-interface element

  * Don't call alarm() method when nexttime is None

  * Add warning to log when old style of label printer configuration is found

  * Re-vamp menu classes

  * Explicitly specify title for keymenu

  * Flush last page of labels explicitly

  * Add dependency on python-cups

  * PDF printing system update

  * Remove compatibility code for old printer driver definitions

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 30 Dec 2014 15:17:31 +0000

quicktill (0.10.46) stable; urgency=low

  * New release 0.10.46

  * Rename adduser_cmd class to avoid clash

  * Don't call price guess function with null unit

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 04 Nov 2014 16:25:58 +0000

quicktill (0.10.45) stable; urgency=low

  * New release 0.10.45

  * Implement pending Bitcoin payments

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Oct 2014 13:46:51 +0000

quicktill (0.10.44) stable; urgency=low

  * New release 0.10.44

  * Move adduser command implementation to user module

  * Twitter auth using python-requests-oauthlib

  * Start to move command line processing to a different module

  * Bitcoin QR code popup counts as unsaved data

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 22 Oct 2014 18:12:59 +0100

quicktill (0.10.43) stable; urgency=low

  * New release 0.10.43

  * Merge branch 'master' of /home/sde/quicktill-build/../quicktill

  * Quick fix: oauthlib

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 16 Oct 2014 15:19:28 +0100

quicktill (0.10.42) stable; urgency=low

  * New release 0.10.42

  * Remove copyright notices for twitter and oauth2

  * Hacky fix for crash described in github issue #59

  * Catch errors posting tweets

  * Remove twitter and oauth2 libraries

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 16 Oct 2014 14:43:52 +0100

quicktill (0.10.41) stable; urgency=low

  * New release 0.10.41

  * Allow globs in printer device filenames

  * Rename repeat to repeatinfo

  * Tell debhelper where the man page is

  * Update manpage

  * Show correct description for totals subcommand

  * Update tableformatter API

  * Update usestock.py tableformatter calls

  * Update user.py tableformatter calls

  * Update stocktype.py tableformatter calls

  * Update stockterminal.py tableformatter calls

  * Update stock.py tableformatter calls

  * Update stocklines.py tableformatter calls

  * Update session.py tableformatter calls (oops, missed one!)

  * Update register.py tableformatter calls

  * Update plu.py tableformatter calls

  * Update managestock.py tableformatter calls

  * Update department.py tableformatter calls

  * Update delivery.py tableformatter calls

  * Update session.py tableformatter calls

  * Add row to table by calling tableformatter instance

  * Update session total popup to use tableformatter

  * Allow whole session list to be viewed

  * Bring up firstpage automatically when no page is selected

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 07 Oct 2014 01:41:34 +0100

quicktill (0.10.40) stable; urgency=low

  * New release 0.10.40

  * Change padding location on stock terminal display

  * Update README

  * Fix handling of dynamically created timer events

  * Add optional timeout to stock terminal page

  * Improve completion of manufacturer/name in stock type dialog

  * Fix crash in auto-allocate

  * Don't set user's register to None when deleting register page

  * Prevent card payments before card machine rollover

  * Framework for testing

  * Skip sessions with no totals recorded in totals command

  * Use https urls when setting up twitter access

  * Merge branch 'performance'

  * Add a lastsold column to stock types

  * Delete register pages based on unsaved data rather than popups

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 23 Sep 2014 13:23:10 +0100

quicktill (0.10.39) stable; urgency=low

  * New release 0.10.39

  * Performance improvement loading transactions

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 12 Jul 2014 17:18:45 +0100

quicktill (0.10.38) stable; urgency=low

  * New release 0.10.38

  * Add "last seen" column to usertokens in web interface

  * Don't urlencode supplier web addresses

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Jun 2014 18:42:46 +0100

quicktill (0.10.37) stable; urgency=low

  * New release 0.10.37

  * Tedium: check for deleted transaction in pagename() as well!

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Jun 2014 14:28:53 +0100

quicktill (0.10.36) stable; urgency=low

  * New release 0.10.36

  * Deal with deleted transactions properly in pagesummary()

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Jun 2014 14:23:37 +0100

quicktill (0.10.35) stable; urgency=low

  * New release 0.10.35

  * Bugfix: deal with deleted transactions while reg page still exists

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Jun 2014 14:11:43 +0100

quicktill (0.10.34) stable; urgency=low

  * New release 0.10.34

  * Display "last seen" information for tokens in token editor

  * Record the time whenever a user token is used

  * Merge branch 'master' of /home/sde/quicktill-build/../quicktill

  * Add "last seen" field to user tokens

  * Don't print receipt number on open transactions

  * Improve handling of users moving between terminals

  * Escape '%' correctly in DDL

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Jun 2014 11:51:34 +0100

quicktill (0.10.33) stable; urgency=low

  * New release 0.10.33

  * Add option to convert transaction to free drinks

  * Update example config to avoid obsolete printer setup functions

  * Log warnings when old printer setup functions are called

  * Add web address field to suppliers

  * Add example script to generate a PDF of paper keycaps

  * Move obsolete examples out of the way

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 22 Jun 2014 18:22:02 +0100

quicktill (0.10.32) stable; urgency=low

  * New release 0.10.32

  * Cope with null cost price in deliveries

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 12 Apr 2014 12:39:28 +0100

quicktill (0.10.31) stable; urgency=low

  * New release 0.10.31

  * Fix focus problem when aborting print of kitchen order

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 09 Apr 2014 17:13:18 +0100

quicktill (0.10.30) stable; urgency=low

  * New release 0.10.30

  * Dismiss kitchen message popup on Clear

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 31 Mar 2014 18:27:53 +0100

quicktill (0.10.29) stable; urgency=low

  * New release 0.10.29

  * Fix netprinter / kitchenprinter

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 31 Mar 2014 18:19:57 +0100

quicktill (0.10.28) stable; urgency=low

  * New release 0.10.28

  * Oops - fix typoes

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 31 Mar 2014 18:13:32 +0100

quicktill (0.10.27) stable; urgency=low

  * New release 0.10.27

  * Only soft-lock the register if it has the focus

  * Better handling of kitchen printer problems

  * Add a fake 'bad' printer driver

  * Add printer status to lock page

  * Add exception guard to some calls to the printer

  * Context manager to catch and display exceptions

  * Check printer status

  * Reorganise printing

  * Increase cost price field length

  * Remove length restriction on payment references

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 31 Mar 2014 17:58:04 +0100

quicktill (0.10.26) stable; urgency=low

  * New release 0.10.26

  * Show line name while in stock picker dialog

  * Use new stock pick in Use Stock function

  * Support sorting by stockline affinity in stock picker

  * Remove redundant function definition

  * Show user in "recall transaction" list

  * Remove defaults from foodorder

  * Refund part-paid transactions on defer

  * Add message field to user model

  * Remove old command line usage message

  * Add an age() method to payment lines

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 18 Mar 2014 12:52:10 +0000

quicktill (0.10.25) stable; urgency=low

  * New release 0.10.25

  * Add a command to display session totals on the console

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 04 Mar 2014 22:12:23 +0000

quicktill (0.10.24) stable; urgency=low

  * New release 0.10.24

  * Show payments in transaction state on tillweb

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 03 Mar 2014 18:27:05 +0000

quicktill (0.10.23) stable; urgency=low

  * New release 0.10.23

  * Set displayqty to zero when removing stock on stockline delete

  * Fix displayqty when adding stock to line

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 27 Feb 2014 16:05:05 +0000

quicktill (0.10.22) stable; urgency=low

  * New release 0.10.22

  * Check for lack of user before using name

  * Enable suppression of total on customer food order tickets

  * Remove defaults from timesheets API

  * Grr, avoid name clash

  * Augh!  Fix typo in tillweb!

  * Oops - be careful reading TILLWEB_LOGIN_REQUIRED

  * Fix login_required for integrated version of tillweb

  * Remove duplication of styles, add extra header blocks

  * Don't show "Till access" on index page when no tills are listed

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 26 Feb 2014 13:12:21 +0000

quicktill (0.10.21) stable; urgency=low

  * New release 0.10.21

  * Minor updates to release script

  * Fix popup of stock details on a confirmed delivery

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 20 Feb 2014 14:43:17 +0000

quicktill (0.10.20) stable; urgency=low

  * New release 0.10.20

  * Fix exception when register.deptlines() returns None

  * Show weekly business totals in tillweb in a consistent order

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 17 Feb 2014 19:30:36 +0000

quicktill (0.10.19) stable; urgency=low

  * New release 0.10.19

  * Version handling

  * Pass pubname to all tillweb templates

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 08 Feb 2014 01:06:00 +0000

quicktill (0.10.18) stable; urgency=low

  * New release 0.10.18

  * Integrate properly with ipladmin django project

  * Add release script option to rebuild current package

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 06 Feb 2014 14:54:39 +0000

quicktill (0.10.17) stable; urgency=low

  * New release 0.10.17

  * Fix error reporting in tillweb

  * Include the jquery-ui CSS file

  * quicktill 0.10.16

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 05 Feb 2014 10:43:52 +0000

quicktill (0.10.16) stable; urgency=low

  * New release 0.10.16

  * Downloadable spreadsheet of session takings in tillweb

  * Fix cash/enter removing empty transactions

  * Use nullprinter() when no printer configured

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 04 Feb 2014 19:01:13 +0000

quicktill (0.10.15) stable; urgency=low

  * New release 0.10.15

  * Deal with closing zero balance transactions properly

  * nullprinter now "prints" to the logfile

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 03 Feb 2014 10:27:34 +0000

quicktill (0.10.14) stable; urgency=low

  * New release 0.10.14

  * Update transaction balance correctly when a line is deleted

  * Autocomplete location field

  * Speed up ui.tableformatter

  * Speed up 'stock check' and 'stock history' functions

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 02 Feb 2014 20:50:29 +0000

quicktill (0.10.13) stable; urgency=low

  * New release 0.10.13

  * Extra help with void transactions

  * Fix date entry fields

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 01 Feb 2014 18:36:16 +0000

quicktill (0.10.12) stable; urgency=low

  * New release 0.10.12

  * Show version on lock screen

  * Fix deleting of lines in delivery

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 01 Feb 2014 13:54:12 +0000

quicktill (0.10.11) stable; urgency=low

  * New release 0.10.11

  * Bitcoin payment method could return wrong type for total

  * More tillweb speedups

  * Add a stock annotation whenever stock is finished

  * Improve loading of stock page

  * Remove hard-coded business 'IPL' from tillweb

  * Remove hard-coded VAT band 'A' from extras.bbcheck

  * Add takings by user to session page in tillweb

  * Remove hard-coded department 11 from extras.coffeealarm

  * Remove alarmpopup from event list on timeout

  * Log when stock on display is purged

  * Remove the "annotate_location" function

  * Log when stock is auto-allocated

  * Undefer qtys in a couple more places

  * Move 'restore deferred' to sessions menu

  * Variable width columns in stockterminal

  * Suppress curses.error exception on addstr()

  * Add 'padding' format character to tableformatter

  * Remove obsolete sqlalchemy-related notes

  * Remove unused query

  * Speed up "stock level check" function

  * Make StockItem qty columns deferred by default

  * Improve load time of tillweb session page

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 01 Feb 2014 02:48:44 +0000

quicktill (0.10.10) stable; urgency=low

  * New release 0.10.10

  * Expire transaction total property when translines are changed

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 30 Jan 2014 18:24:22 +0000

quicktill (0.10.9) stable; urgency=low

  * New release 0.10.9

  * Limit stockpicker popups to 100 items, sort unfinished items to the top

  * Limit session totals popup to last 100 sessions

  * Fix print key on locked register with no transaction

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 30 Jan 2014 17:51:33 +0000

quicktill (0.10.8) stable; urgency=low

  * New release 0.10.8

  * Bugfix in screen unblank

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 30 Jan 2014 15:54:01 +0000

quicktill (0.10.7) stable; urgency=low

  * New release 0.10.7

  * Add "autolock" feature

  * Unicode literals everywhere!

  * Sort open transactions to the top of the list for Recall Trans

  * Convert transaction total to a column property

  * Add "next" and "previous" links to sessiondept pages

  * Fix transline ordering in sessiondept page

  * Update README

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 30 Jan 2014 14:42:10 +0000

quicktill (0.10.6) stable; urgency=low

  * New release 0.10.6

  * Don't print "underline" when we want to print a line...

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 29 Jan 2014 19:23:33 +0000

quicktill (0.10.5) stable; urgency=low

  * New release 0.10.5

  * Improve the session takings in a department page

  * Minor improvements to pub index page load time

  * Tillweb performance improvements

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 29 Jan 2014 14:43:47 +0000

quicktill (0.10.4) stable; urgency=low

  * New release 0.10.4

  * A few database access optimisations

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jan 2014 18:42:58 +0000

quicktill (0.10.3) stable; urgency=low

  * New release 0.10.3

  * Fix printing of session totals from dialog

  * Fix timesheets properly!

  * Attempt at screen unblanking on user token receipt

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jan 2014 18:10:03 +0000

quicktill (0.10.2) stable; urgency=low

  * New release 0.10.2

  * Fix food orders

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jan 2014 17:01:44 +0000

quicktill (0.10.1) stable; urgency=low

  * New release 0.10.1

  * Support different users on the stockterminal

  * ui.menu doesn't allow null blurb any more

  * Make printer drivers behave when devicefile is passed as unicode

  * Example config file updates

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jan 2014 10:53:55 +0000

quicktill (0.10.0) stable; urgency=low

  * New release 0.10.0

  * Many changes; database update and config file rewrite required.

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 27 Jan 2014 11:59:10 +0000

quicktill (0.9.32) stable; urgency=low

  * New release 0.9.32

  * Enable twitter API key to be passed in from config file

  * Alter twitter client: don't explicitly fetch replies

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 23 Sep 2013 16:25:58 +0100

quicktill (0.9.31) stable; urgency=low

  * New release 0.9.31

  * Support QR code printing on 80mm wide thermal paper with TM-T20

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 02 Jul 2013 17:08:47 +0100

quicktill (0.9.30) stable; urgency=low

  * New release 0.9.30

  * Allow different default font size settings per printer

  * Add support for TM-T20, alter QR code print API to be more sensible

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 29 Jun 2013 10:24:59 +0100

quicktill (0.9.29) stable; urgency=low

  * New release 0.9.29

  * Fix simple Twitter client

  * Update twitter module

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 19 Jun 2013 19:29:43 +0100

quicktill (0.9.28) stable; urgency=low

  * New release 0.9.28

  * Bitcoin merchant service status checker

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 31 May 2013 20:37:04 +0100

quicktill (0.9.27) stable; urgency=low

  * New release 0.9.27

  * Bugfix: deal with sessions that have no Bitcoin transactions properly

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 27 May 2013 13:44:48 +0100

quicktill (0.9.26) stable; urgency=low

  * New release 0.9.26

  * Try to use smaller qrcode in popup window

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 25 May 2013 14:08:17 +0100

quicktill (0.9.25) stable; urgency=low

  * New release 0.9.25

  * Fix btcmerch basic auth base URL

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 23 May 2013 22:40:11 +0100

quicktill (0.9.24) stable; urgency=low

  * New release 0.9.24

  * Update copyright dates

  * Add python-qrcode dependency

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 23 May 2013 21:25:40 +0100

quicktill (0.9.23) stable; urgency=low

  * New release 0.9.23

  * Bitcoin merchant service support

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 23 May 2013 21:20:46 +0100

quicktill (0.9.22) stable; urgency=low

  * New release 0.9.22

  * Update for new Twitter api location

  * Fix tillweb on Ubuntu 12.04

  * Add a .gitignore

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 08 May 2013 16:36:39 +0100

quicktill (0.9.21) stable; urgency=low

  * New release 0.9.21

  * Test connectivity to kitchen printer before accepting orders

  * Change default admin site address

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 05 May 2012 15:43:46 +0100

quicktill (0.9.20) stable; urgency=low

  * New release 0.9.20

  * Bugfix: check keyboard layout ID when listing key bindings

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 25 Apr 2012 18:52:08 +0100

quicktill (0.9.19) stable; urgency=low

  * New release 0.9.19

  * Client for timesheets service

  * Permit a null "blurb" before popup menus

  * Add convenience function for popping up exceptions to UI code

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 26 Feb 2012 18:58:41 +0000

quicktill (0.9.18) stable; urgency=low

  * New release 0.9.18

  * Lock Screen function

  * Add keycodes for 'PANIC', 'APPS' and 'LOCK'

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 20 Feb 2012 23:12:23 +0000

quicktill (0.9.17) stable; urgency=low

  * New release 0.9.17

  * Add field for pingapint reconciliations

  * Fix for input focus ending up on wrong page

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 07 Sep 2011 17:17:46 +0100

quicktill (0.9.16) stable; urgency=low

  * New release 0.9.16

  * Allow stock terminal display to be restricted by stockline location

  * PingaPint support in the register

  * Ensure voucher amount is returned as a number not a string

  * Add library for communicating with PingaPint

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 17 Aug 2011 13:38:42 +0100

quicktill (0.9.15) stable; urgency=low

  * New release 0.9.15

  * Basic twitter client popup

  * Copy objects when copying menu lines in food order interface

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 01 Jul 2011 15:07:10 +0100

quicktill (0.9.14) stable; urgency=low

  * New release 0.9.14

  * Add a hook that's called after stock items are put on sale

  * Move twitter update function from examples to extras

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jun 2011 19:43:03 +0100

quicktill (0.9.13) stable; urgency=low

  * New release 0.9.13

  * Support for Twitter access in extras

  * Import twitter and oauth2 libraries

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 28 Jun 2011 13:14:06 +0100

quicktill (0.9.12) stable; urgency=low

  * New release 0.9.12

  * Bugfix

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 09 Jun 2011 19:37:41 +0100

quicktill (0.9.11) stable; urgency=low

  * New release 0.9.11

  * Extra checking on "use stock" for items less than 20% used

  * Display the transaction note on the first line of the register

  * Fix menu title to include transaction number

  * Add transaction_notes configuration option

  * Support for editing the notes of an open transaction

  * Display transaction notes in menus

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 09 Jun 2011 19:18:00 +0100

quicktill (0.9.10) stable; urgency=low

  * New release 0.9.10

  * Change the "negative stock remaining" message to be more emphatic

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 15 Mar 2011 14:30:50 +0000

quicktill (0.9.9) stable; urgency=low

  * New release 0.9.9

  * Change Cancel key behaviour based on age of line being cancelled

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 05 Mar 2011 18:37:25 +0000

quicktill (0.9.8) stable; urgency=low

  * New release 0.9.8

  * Deal with kitchen printer failures

  * Add popup to warn about open transactions when till is restarted

  * Minor updates to sanity-check script

  * New database sanity-check script in examples

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 05 Mar 2011 16:28:12 +0000

quicktill (0.9.7) stable; urgency=low

  * New release 0.9.7

  * Print transaction ID on food orders

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 24 Jan 2011 20:21:44 +0000

quicktill (0.9.6) stable; urgency=low

  * New release 0.9.6

  * Printing of arbitrary receipts

  * Proper handling of VAT rate changes (requires database update)

  * Extra table in database to hold VAT rate changes

  * Quick and easy way to nobble empty transactions

  * Combine new/edit/view deliveries options into one menu

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 21 Oct 2010 16:04:46 +0100

quicktill (0.9.5) stable; urgency=low

  * New release 0.9.5

  * Tillweb support for free text in transaction lines

  * Food orders now end up in the transaction log

  * Support for free text in transaction lines - NB database update required

  * Share transaction line to string code between register and printer

  * Kick out cash drawer on session start

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 18 Oct 2010 21:46:02 +0100

quicktill (0.9.4) stable; urgency=low

  * New release 0.9.4

  * Printers with cutters now cut automatically for all print types

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 03 Aug 2010 01:05:25 +0100

quicktill (0.9.3) stable; urgency=low

  * New release 0.9.3

  * Enable till users to edit the text of food order lines before printing the order

  * Update example till config from current Pembury configuration

  * Refactor foodorder.py to remove duplication of code in ui.py

  * Fix location of runtill script

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 06 Jul 2010 22:49:38 +0100

quicktill (0.9.2) stable; urgency=low

  * New release 0.9.2

  * Support drawer kickout on network printers.

  * Update copyright date

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 26 May 2010 22:41:43 +0100

quicktill (0.9.1) stable; urgency=low

  * New release 0.9.1

  * Configuration option to ask for cashback amount first in card dialog

  * New upstart configuration file for auto-start of till on Ubuntu 10.04

  * Add 'driptray' waste reason to createdb script

  * Updates for python-2.6 and Ubuntu 10.04 LTS

  * Add food order sequence to database setup script

  * Fix createdb to include company abbreviation when creating database

  * git-foo commands no longer supported in Ubuntu; change to git foo

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 22 May 2010 18:55:07 +0100

quicktill (0.8.34) stable; urgency=low

  * New release 0.8.34

  * Add configuration option to deny the use of 'Recall Transaction' for tabs

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 07 Feb 2010 22:40:39 +0000

quicktill (0.8.33) stable; urgency=low

  * New release 0.8.33

  * Reminder popups for particular times of day

  * Alarm popups now disappear after 5 minutes, unless dismissed manually.

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 11 Nov 2009 19:02:23 +0000

quicktill (0.8.32) stable; urgency=low

  * New release 0.8.32

  * Extra space before cut, otherwise the cut goes in the wrong place!

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 24 Sep 2009 16:48:43 +0100

quicktill (0.8.31) stable; urgency=low

  * New release 0.8.31

  * Support for printers with paper cutters for food orders

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 24 Sep 2009 16:33:08 +0100

quicktill (0.8.30) stable; urgency=low

  * New release 0.8.30

  * Note in the package control file that python2.5 is required

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 23 Jul 2009 14:31:10 +0100

quicktill (0.8.29) stable; urgency=low

  * New release 0.8.29

  * Enable configname to be accessed from global config module

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 22 Jul 2009 20:54:25 +0100

quicktill (0.8.28) stable; urgency=low

  * New release 0.8.28

  * Coffee pot timer in "extras"

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 22 Jul 2009 20:41:03 +0100

quicktill (0.8.27) stable; urgency=low

  * New release 0.8.27

  * Disable the 'convert to free drinks' function

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 05 Jun 2009 23:51:18 +0100

quicktill (0.8.26) stable; urgency=low

  * New release 0.8.26

  * Change staff discount policy on food orders

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 01 Jun 2009 21:14:03 +0100

quicktill (0.8.25) stable; urgency=low

  * New release 0.8.25

  * More sanity checking in train timetable popup

  * Update manpage

  * Fix up date when session is started just before midnight

  * Barrelage query in tillweb

  * Add option to purge finished stock explicitly

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 11 Jan 2009 22:09:02 +0000

quicktill (0.8.24) stable; urgency=low

  * New release 0.8.24

  * Change stock auto-allocate function to use stockline_stocktype_log

  * Bring the createdb file up to date

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 12 Oct 2008 18:20:25 +0100

quicktill (0.8.23) stable; urgency=low

  * New release 0.8.23

  * Change confusingly out-of-date error message in release script

  * Warning popup for old transactions

  * Barrelage statistics for till web server

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 12 Oct 2008 14:36:45 +0100

quicktill (0.8.22) stable; urgency=low

  * New release 0.8.22

  * If default of "None" is supplied to listpopup, use '0' instead

  * Display more useful error message when train departures web page is faulty

  * Update some of the example scripts

  * Include release date in version string

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 21 Jun 2008 14:42:11 +0100

quicktill (0.8.21) stable; urgency=low

  * New release 0.8.21

  * Optimise the query for inconsistent prices

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 15 Jun 2008 17:30:38 +0100

quicktill (0.8.20) stable; urgency=low

  * New release 0.8.20

  * Stock re-price popup

  * Remove spurious line of code from table number popup

  * New popup to view and manage stockline/stocktype associations

  * New 'tableline' for scrollable; split ui.menu into two classes

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 15 Jun 2008 17:10:53 +0100

quicktill (0.8.19) stable; urgency=low

  * New release 0.8.19

  * Change Use Stock/Re-fill stock lines prompt

  * Fix printing of train timetable

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 12 Jun 2008 17:51:53 +0100

quicktill (0.8.18) stable; urgency=low

  * New release 0.8.18

  * Add the signing key ID to the release script

  * Fix keymap for new supplier confirm dialog

  * Change to using Cash/Enter to dismiss the stock level check popup

  * Fix typo that made check digits always be checked if printing is on

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 04 Jun 2008 15:33:12 +0100

quicktill (0.8.17) stable; urgency=low

  * New release 0.8.17

  * New "Stock level check" operation

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 29 May 2008 14:31:45 +0100

quicktill (0.8.16) stable; urgency=low

  * New release 0.8.16

  * Enable stock labels to be re-printed from the stock check popup

  * Support for check digits on stock labels

  * Simple support for specifying log output

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 28 May 2008 22:17:44 +0100

quicktill (0.8.15) stable; urgency=low

  * New release 0.8.15

  * Fix thinko in register.py/manage transaction menu

  * Clean up handling of input focus; make more use of ui.scrollable

  * New "scrollable" field type; update linepopup and menu to use it

  * Fix line drawing characters when running in an xterm

  * Remove spurious coding declarations

  * Fix text wrapping on register page

  * Fix part-payment when keyguard is active

  * Update createdb script to include unique IDs for payments

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 28 May 2008 00:32:05 +0100

quicktill (0.8.14) stable; urgency=low

  * New release 0.8.14

  * foodcheck.py is no longer an executable

  * Change footer of printed food orders.

  * More register display cleanups

  * Remove arbitrary minimum screen width

  * Register page can now display multi-line transaction lines

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 27 Apr 2008 18:04:43 +0100

quicktill (0.8.13) stable; urgency=low

  * New release 0.8.13

  * Add configuration option to disable the 'No Sale' function

  * Printer character encoding is now configurable

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 25 Apr 2008 09:29:28 +0100

quicktill (0.8.12) stable; urgency=low

  * New release 0.8.12

  * Configuration of department restrictions moved to global config file

  * Example auto-login script should now turn off vesafb monitors when idle

 -- Stephen Early <sde@individualpubs.co.uk>  Sat, 19 Apr 2008 00:09:18 +0100

quicktill (0.8.11) stable; urgency=low

  * New release 0.8.11

  * Ctrl-T mapped to "Manage Transaction"

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 15 Apr 2008 19:06:21 +0100

quicktill (0.8.10) stable; urgency=low

  * New release 0.8.10

  * Prevent duplicate entries in stock_search

  * Experimental change to select() loop

 -- Stephen Early <sde@individualpubs.co.uk>  Mon, 14 Apr 2008 20:31:05 +0100

quicktill (0.8.9) stable; urgency=low

  * New release 0.8.9

  * Command line option to override database connection string

 -- Stephen Early <sde@individualpubs.co.uk>  Sun, 13 Apr 2008 19:02:11 +0100

quicktill (0.8.8) stable; urgency=low

  * New release 0.8.8

  * Reinstate shutdown and reboot options in exit menu

  * Example check-menu shell script

  * Configurations now have names instead of numbers

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 11 Apr 2008 21:05:32 +0100

quicktill (0.8.7) stable; urgency=low

  * New release 0.8.7

  * Update example till web server for latest version of Cheetah

  * Store config file URL in tillconfig.configversion for display in "About" box

  * Add startup scripts for autologin to examples

  * Sort stillage display on stock terminal by length of time on stillage

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 10 Apr 2008 15:30:15 +0100

quicktill (0.8.6) stable; urgency=low

  * New release 0.8.6

  * Fix typo in printer driver

 -- Stephen Early <sde@individualpubs.co.uk>  Thu, 10 Apr 2008 12:32:28 +0100

quicktill (0.8.5) stable; urgency=low

  * New release 0.8.5

  * First cut of proper charset handling - cope with UTF-8 consoles

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 09 Apr 2008 23:10:06 +0100

quicktill (0.8.4) stable; urgency=low

  * New release 0.8.4

  * Cheetah no longer supports ReplaceNone

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 09 Apr 2008 20:09:33 +0100

quicktill (0.8.3) stable; urgency=low

  * New release 0.8.3

  * Add tillweb code to examples

 -- Stephen Early <sde@individualpubs.co.uk>  Wed, 09 Apr 2008 17:59:55 +0100

quicktill (0.8.2) stable; urgency=low

  * New release 0.8.2

  * Rearrange 'Use Stock' menu to put most likely stocktypes first

  * Document how to make a release, build source distribution

  * Minor release script improvement

  * Delivery printing - menu option for labels

  * Fix train departure board in extras to ignore dodgy HTML

 -- Stephen Early <sde@individualpubs.co.uk>  Fri, 07 Dec 2007 18:16:09 +0000

quicktill (0.8.1) stable; urgency=low

  * New release 0.8.1

  * Enable till module to be invoked directly

  * New release script generates Debian packages from git tree

 -- Stephen Early <sde@individualpubs.co.uk>  Tue, 30 Oct 2007 19:57:36 +0000

quicktill (0.8.0) stable; urgency=low

  * Initial release.

 -- Stephen Early <steve@greenend.org.uk>  Sun, 25 Mar 2007 14:30:00 +0100

